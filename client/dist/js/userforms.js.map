{"version":3,"sources":["webpack:///webpack/bootstrap 12c490e16f467d30b10a","webpack:///external \"jQuery\"","webpack:///./client/src/bundles/FieldEditor.js","webpack:///./client/src/bundles/Recipient.js","webpack:///./client/src/bundles/UserForms.js","webpack:///./client/src/bundles/bundle.js"],"names":["$","entwine","stickyHeaderInterval","onmatch","i","thisLevel","depth","$buttonrow","addClass","navHeight","height","parseInt","css","fieldEditor","self","_super","find","each","data","toggleClass","setInterval","offsetTop","offset","top","width","removeClass","onunmatch","clearInterval","onclick","e","trigger","on","one","$newField","last","$groupEnd","attr","prev","focus","add","document","createElement","style","animationName","setTimeout","scrollTop","scrollHeight","onummatch","jQuery","ready","recipient","updateFormatSpecificFields","sendPlainChecked","is","onchange","userform","CONSTANTS","commonMixin","show","$el","hide","UserForm","element","steps","errorContainer","ErrorContainer","children","prevStep","nextStep","stepNumber","jumpToStep","fieldId","removeStepLink","validate","validationOptions","rules","required","prototype","ignore","errorClass","errorElement","errorPlacement","error","parents","length","insertAfter","closest","next","invalidHandler","event","validator","currentElements","filter","first","submitHandler","form","isValid","currentStep","valid","step","conditionallyHidden","addStepLink","submit","success","errorId","substr","indexOf","replace","remove","addStep","FormStep","id","push","setCurrentStep","viewed","direction","targetStep","forward","text","ss","i18n","_t","hasErrors","removeErrorMessage","itemID","$itemElement","stepID","stepTitle","preventDefault","append","updateErrorMessage","$input","message","inputID","anchor","elementID","messageElement","describedBy","html","location","pathname","search","match","RegExp","$elButton","prop","DISPLAY_ERROR_MESSAGES_AT_TOP","errorList","ProgressBar","$buttons","$jsAlign","stepButton","update","$visibleButtons","button","index","$button","leftPercent","buttonOffset","innerWidth","left","marginLeft","$newStepElement","barWidth","$element","$item","parent","removeAttr","siblings","FormActions","$prevButton","$nextButton","numberOfSteps","lastStep","main","progressBar","formActions","$userform","ENABLE_LIVE_VALIDATION","extend","onfocusout","HIDE_FIELD_LABELS","$label","ssDatepicker","datepicker","ajax","url","areYouSure","require"],"mappings":"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","file":"js/userforms.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 12c490e16f467d30b10a","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = 0","/**\n * form builder behaviour.\n */\n\n (function($) {\n\t$.entwine('ss', function($) {\n\t\tvar stickyHeaderInterval;\n\n\t\t$(\".uf-field-editor tbody\").entwine({\n\t\t\tonmatch: function() {\n\t\t\t\tvar i, \n\t\t\t\t\tthisLevel, \n\t\t\t\t\tdepth = 0,\n\t\t\t\t\t$buttonrow = $('.uf-field-editor .ss-gridfield-buttonrow').addClass('stickyButtons'),\n\t\t\t\t\tnavHeight = $('.cms-content-header.north').height() + parseInt($('.stickyButtons').css('padding-top'), 10),\n\t\t\t\t\tfieldEditor = $('.uf-field-editor'),\n\t\t\t\t\tself = this;\n\n\t\t\t\tthis._super();\n\t\t\t\t\n\t\t\t\t// Loop through all rows and set necessary styles\n\t\t\t\tthis.find('.ss-gridfield-item').each(function() {\n\t\t\t\t\tswitch($(this).data('class')) {\n\t\t\t\t\t\tcase 'EditableFormStep': {\n\t\t\t\t\t\t\tdepth = 0;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 'EditableFieldGroup': {\n\t\t\t\t\t\t\tthisLevel = ++depth;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 'EditableFieldGroupEnd': {\n\t\t\t\t\t\t\tthisLevel = depth--;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\tthisLevel = depth;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t$(this).toggleClass('inFieldGroup', thisLevel > 0);\n\t\t\t\t\tfor(i = 1; i <= 5; i++) {\n\t\t\t\t\t\t$(this).toggleClass('inFieldGroup-level-'+i, thisLevel >= i);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Make sure gridfield buttons stick to top of page when user scrolls down\n\t\t\t\tstickyHeaderInterval = setInterval(function () {\n\t\t\t\t\tvar offsetTop = fieldEditor.offset().top;\n\t\t\t\t\t$buttonrow.width('100%');\n\t\t\t\t\tif (offsetTop > navHeight || offsetTop === 0) {\n\t\t\t\t\t\t$buttonrow.removeClass('stickyButtons');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$buttonrow.addClass('stickyButtons');\n\t\t\t\t\t};\n\t\t\t\t}, 300);\n\t\t\t},\n\t\t\tonunmatch: function () {\n\t\t\t\tthis._super();\n\n\t\t\t\tclearInterval(stickyHeaderInterval);\n\t\t\t}\n\t\t});\n\n\t\t// When new fields are added..\n\t\t$('.uf-field-editor .ss-gridfield-buttonrow .action').entwine({\n\t\t\tonclick: function (e) {\n\t\t\t\tthis._super(e);\n\n\t\t\t\tthis.trigger('addnewinline');\n\t\t\t}\n\t\t});\n\n\t\t$('.uf-field-editor').entwine({\n\t\t\tonmatch: function () {\n\t\t\t\tvar self = this;\n\n\t\t\t\tthis._super();\n\t\t\t\t\t\n\t\t\t\t// When the 'Add field' button is clicked set a one time listener.\n\t\t\t\t// When the GridField is reloaded focus on the newly added field.\n\t\t\t\tthis.on('addnewinline', function () {\n\t\t\t\t\tself.one('reload', function () {\n\t\t\t\t\t\t//If fieldgroup, focus on the start marker\n\t\t\t\t\t\tvar $newField = self.find('.ss-gridfield-item').last(), $groupEnd;\n\t\t\t\t\t\tif ($newField.attr('data-class') === 'EditableFieldGroupEnd') {\n\t\t\t\t\t\t\t$groupEnd = $newField;\n\t\t\t\t\t\t\t$groupEnd.prev().find('.col-Title input').focus();\n\t\t\t\t\t\t\t$newField = $groupEnd.add($groupEnd.prev());\n\t\t\t\t\t\t\t$groupEnd.css('visibility', 'hidden');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$newField.find('.col-Title input').focus();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// animate the row positioning (add the first class)\n\t\t\t\t\t\tif (document.createElement('div').style.animationName !== void 0) {\n\t\t\t\t\t\t\t$newField.addClass('newField');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Once the animation has completed\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t$newField.removeClass('newField').addClass('flashBackground');\n\t\t\t\t\t\t\t$(\".cms-content-fields\").scrollTop($(\".cms-content-fields\")[0].scrollHeight);\n\t\t\t\t\t\t\tif($groupEnd) {\n\t\t\t\t\t\t\t\t$groupEnd.css('visibility', 'visible');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 500);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tonummatch: function () {\n\t\t\t\tthis._super();\n\t\t\t}\n\t\t});\n\t});\n}(jQuery));\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/FieldEditor.js","/**\n * Email recipient behaviour.\n */\n\n(function ($) {\n\t$(document).ready(function () {\n\n\t\tvar recipient = {\n\t\t\t// Some fields are only visible when HTML email are being sent.\n\t\t\tupdateFormatSpecificFields: function () {\n\t\t\t\tvar sendPlainChecked = $('#SendPlain')\n\t\t\t\t\t.find('input[type=\"checkbox\"]')\n\t\t\t\t\t.is(':checked');\n\n\t\t\t\t$(\".field.toggle-html-only\")[sendPlainChecked ? 'hide' : 'show']();\n\t\t\t\t$(\".field.toggle-plain-only\")[sendPlainChecked ? 'show' : 'hide']();\n\t\t\t}\n\t\t};\n\n\t\t$.entwine('udf.recipient', function ($) {\n\t\t\t$('#Form_ItemEditForm').entwine({\n\t\t\t\tonmatch: function () {\n\t\t\t\t\trecipient.updateFormatSpecificFields();\n\t\t\t\t},\n\t\t\t\tonunmatch: function () {\n\t\t\t\t\tthis._super();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('#SendPlain').entwine({\n\t\t\t\tonchange: function () {\n\t\t\t\t\trecipient.updateFormatSpecificFields();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n}(jQuery));\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/Recipient.js","/**\n * @file Manages the multi-step navigation.\n */\njQuery(function ($) {\n\n\t// A reference to the UserForm instance.\n\tvar userform = null;\n\n\t// Settings that come from the CMS.\n\tvar CONSTANTS = {};\n\n\t// Common functions that extend multiple classes.\n\tvar commonMixin = {\n\t\t/**\n\t\t * @func show\n\t\t * @desc Show the form step. Looks after aria attributes too.\n\t\t */\n\t\tshow: function () {\n\t\t\tthis.$el.attr('aria-hidden', false).show();\n\t\t},\n\t\t/**\n\t\t * @func hide\n\t\t * @desc Hide the form step. Looks after aria attributes too.\n\t\t */\n\t\thide: function () {\n\t\t\tthis.$el.attr('aria-hidden', true).hide();\n\t\t}\n\t};\n\n\t/**\n\t * @func UserForm\n\t * @constructor\n\t * @param {object} element\n\t * @return {object} - The UserForm instance.\n\t * @desc The form\n\t */\n\tfunction UserForm(element) {\n\t\tvar self = this;\n\n\t\tthis.$el = element instanceof jQuery ? element : $(element);\n\t\tthis.steps = [];\n\n\t\t// Add an error container which displays a list of invalid steps on form submission.\n\t\tthis.errorContainer = new ErrorContainer(this.$el.children('.error-container'));\n\n\t\t// Listen for events triggered by form steps.\n\t\tthis.$el.on('userform.action.prev', function (e) {\n\t\t\tself.prevStep();\n\t\t});\n\t\tthis.$el.on('userform.action.next', function (e) {\n\t\t\tself.nextStep();\n\t\t});\n\n\t\t// Listen for events triggered by the progress bar.\n\t\t$('#userform-progress').on('userform.progress.changestep', function (e, stepNumber) {\n\t\t\tself.jumpToStep(stepNumber - 1);\n\t\t});\n\n\t\t// When a field becomes valid, remove errors from the error container.\n\t\tthis.$el.on('userform.form.valid', function (e, fieldId) {\n\t\t\tself.errorContainer.removeStepLink(fieldId);\n\t\t});\n\n\t\tthis.$el.validate(this.validationOptions);\n\n\t\t// Ensure checkbox groups are validated correctly\n\t\t$('.optionset.requiredField input').each(function() {\n\t\t    $(this).rules('add', {\n\t\t        required: true\n\t\t    });\n\t\t});\n\n\t\treturn this;\n\t}\n\n\t/*\n\t * Default options for step validation. These get extended in main().\n\t */\n\tUserForm.prototype.validationOptions = {\n\t\tignore: ':hidden,ul',\n\t\terrorClass: 'error',\n\t\terrorElement: 'span',\n\t\terrorPlacement: function (error, element) {\n\t\t\terror.addClass('message');\n\n\t\t\tif (element.is(':radio') || element.parents('.checkboxset').length > 0) {\n\t\t\t\terror.insertAfter(element.closest('ul'));\n\t\t\t} else if (element.parents('.checkbox').length > 0) {\n\t\t\t\terror.insertAfter(element.next('label'));\n\t\t\t} else {\n\t\t\t\terror.insertAfter(element);\n\t\t\t}\n\t\t},\n\t\tinvalidHandler: function (event, validator) {\n\t\t\t//setTimeout 0 so it runs after errorPlacement\n\t\t\tsetTimeout(function () {\n\t\t\t\tvalidator.currentElements.filter('.error').first().focus();\n\t\t\t}, 0);\n\t\t},\n\t\t// Callback for handling the actual submit when the form is valid.\n\t\t// Submission in the jQuery.validate sence is handled at step level.\n\t\t// So when the final step is submitted we have to also check all previous steps are valid.\n\t\tsubmitHandler: function (form, e) {\n\t\t\tvar isValid = true;\n\n\t\t\t// validate the current step\n\t\t\tif(userform.currentStep) {\n\t\t\t\tuserform.currentStep.valid = $(form).valid();\n\t\t\t}\n\n\t\t\t// Check for invalid previous steps.\n\t\t\t$.each(userform.steps, function (i, step) {\n\t\t\t\tif (!step.valid && !step.conditionallyHidden()) {\n\t\t\t\t\tisValid = false;\n\t\t\t\t\tuserform.errorContainer.addStepLink(step);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (isValid) {\n\n\t\t\t\t// When using the \"are you sure?\" plugin, ensure the form immediately submits.\n\t\t\t\t$(form).removeClass('dirty');\n\n\t\t\t\tform.submit();\n\t\t\t} else {\n\t\t\t\tuserform.errorContainer.show();\n\t\t\t}\n\t\t},\n\t\t// When a field becomes valid.\n\t\tsuccess: function (error) {\n\t\t\tvar errorId = $(error).attr('id'),\n\t\t\t\tfieldId = errorId.substr(0, errorId.indexOf('-error')).replace(/[\\\\[\\\\]]/, '');\n\n\t\t\t// Remove square brackets since jQuery.validate.js uses idOrName,\n\t\t\t// which breaks further on when using a selector that end with\n\t\t\t// square brackets.\n\n\t\t\terror.remove();\n\n\t\t\t// Pass the field's ID with the event.\n\t\t\tuserform.$el.trigger('userform.form.valid', [fieldId]);\n\t\t}\n\t};\n\n\t/**\n\t * @func UserForm.addStep\n\t * @param {object} step - An instance of FormStep.\n\t * @desc Adds a step to the UserForm.\n\t */\n\tUserForm.prototype.addStep = function (step) {\n\t\t// Make sure we're dealing with a form step.\n\t\tif (!step instanceof FormStep) {\n\t\t\treturn;\n\t\t}\n\n\t\tstep.id = this.steps.length;\n\n\t\tthis.steps.push(step);\n\t};\n\n\t/**\n\t * @func UserForm.setCurrentStep\n\t * @param {object} step - An instance of FormStep.\n\t * @desc Sets the step the user is currently on.\n\t */\n\tUserForm.prototype.setCurrentStep = function (step) {\n\t\t// Make sure we're dealing with a form step.\n\t\tif (!(step instanceof FormStep)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.currentStep = step;\n\t\tthis.currentStep.show();\n\n\t\t// Record the user has viewed the step.\n\t\tstep.viewed = true;\n\t\tstep.$el.addClass('viewed');\n\t};\n\n\t/**\n\t * @func UserForm.jumpToStep\n\t * @param {number} stepNumber\n\t * @param {boolean} [direction] - Defaults to forward (true).\n\t * @desc Jumps to a specific form step.\n\t */\n\tUserForm.prototype.jumpToStep = function (stepNumber, direction) {\n\t\tvar targetStep = this.steps[stepNumber],\n\t\t\tisValid = false,\n\t\t\tforward = direction === void 0 ? true : direction;\n\n\t\t// Make sure the target step exists.\n\t\tif (targetStep === void 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure the step we're trying to set as current is not\n\t\t// hidden by custom display rules. If it is then jump to the next step.\n\t\tif (targetStep.conditionallyHidden()) {\n\t\t\tif (forward) {\n\t\t\t\tthis.jumpToStep(stepNumber + 1);\n\t\t\t} else {\n\t\t\t\tthis.jumpToStep(stepNumber - 1);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Validate the form.\n\t\t// This well effectivly validate the current step and not the entire form.\n\t\t// This is because hidden fields are excluded from validation, and all fields\n\t\t// on all other steps, are currently hidden.\n\t\tisValid = this.$el.valid();\n\n\t\t// Set the 'valid' property on the current step.\n\t\tthis.currentStep.valid = isValid;\n\n\t\t// Users can navigate to step's they've already viewed even if the current step is invalid.\n\t\tif (isValid === false && targetStep.viewed === false) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.currentStep.hide();\n\t\tthis.setCurrentStep(targetStep);\n\n\t\tthis.$el.trigger('userform.form.changestep', [targetStep.id]);\n\t};\n\n\t/**\n\t * @func UserForm.nextStep\n\t * @desc Advances the form to the next step.\n\t */\n\tUserForm.prototype.nextStep = function () {\n\t\tthis.jumpToStep(this.steps.indexOf(this.currentStep) + 1, true);\n\t};\n\n\t/**\n\t * @func UserForm.prevStep\n\t * @desc Goes back one step (not bound to browser history).\n\t */\n\tUserForm.prototype.prevStep = function () {\n\t\tthis.jumpToStep(this.steps.indexOf(this.currentStep) - 1, false);\n\t};\n\n\t/**\n\t * @func ErrorContainer\n\t * @constructor\n\t * @param {object} element - The error container element.\n\t * @return {object} - The ErrorContainer instance.\n\t * @desc Creates an error container. Used to display step error messages at the top.\n\t */\n\tfunction ErrorContainer(element) {\n\t\tthis.$el = element instanceof jQuery ? element : $(element);\n\n\t\t// Set the error container's heading.\n\t\tthis.$el.find('h4').text(ss.i18n._t('UserForms.ERROR_CONTAINER_HEADER', 'Please correct the following errors and try again:'));\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @func hasErrors\n\t * @return boolean\n\t * @desc Checks if the error container has any error messages.\n\t */\n\tErrorContainer.prototype.hasErrors = function () {\n\t\treturn this.$el.find('.error-list').children().length > 0;\n\t};\n\n\t/**\n\t * @func removeErrorMessage\n\t * @desc Removes an error message from the error container.\n\t */\n\tErrorContainer.prototype.removeErrorMessage = function (fieldId) {\n\t\tthis.$el.find('#' + fieldId + '-top-error').remove();\n\n\t\t// If there are no more error then hide the container.\n\t\tif (!this.hasErrors()) {\n\t\t\tthis.hide();\n\t\t}\n\t};\n\n\t/**\n\t * @func addStepLink\n\t * @param {object} step - FormStep instance.\n\t * @desc Adds a link to a form step as an error message.\n\t */\n\tErrorContainer.prototype.addStepLink = function (step) {\n\t\tvar self = this,\n\t\t\titemID = step.$el.attr('id') + '-error-link',\n\t\t\t$itemElement = this.$el.find('#' + itemID),\n\t\t\tstepID = step.$el.attr('id'),\n\t\t\tstepTitle = step.$el.data('title');\n\n\t\t// If the item already exists we don't need to do anything.\n\t\tif ($itemElement.length) {\n\t\t\treturn;\n\t\t}\n\n\t\t$itemElement = $('<li id=\"' + itemID + '\"><a href=\"#' + stepID + '\">' + stepTitle + '</a></li>');\n\n\t\t$itemElement.on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tuserform.jumpToStep(step.id);\n\t\t});\n\n\t\tthis.$el.find('.error-list').append($itemElement);\n\t};\n\n\t/**\n\t * @func removeStepLink\n\t * @param {object} step - FormStep instance.\n\t * @desc Removes a step link from the error container.\n\t */\n\tErrorContainer.prototype.removeStepLink = function (fieldId) {\n\t\tvar stepID = $('#' + fieldId).closest('.form-step').attr('id');\n\n\t\tthis.$el.find('#' + stepID + '-error-link').remove();\n\n\t\t// Hide the error container if we've just removed the last error.\n\t\tif (this.$el.find('.error-list').is(':empty')) {\n\t\t\tthis.hide();\n\t\t}\n\t};\n\n\t/**\n\t * @func ErrorContainer.updateErrorMessage\n\t * @param {object} $input - The jQuery input object which contains the field to validate.\n\t * @param {object} message - The error message to display (html escaped).\n\t * @desc Update an error message (displayed at the top of the form).\n\t */\n\tErrorContainer.prototype.updateErrorMessage = function ($input, message) {\n\t\tvar inputID = $input.attr('id'),\n\t\t\tanchor = '#' + inputID,\n\t\t\telementID = inputID + '-top-error',\n\t\t\tmessageElement = $('#' + elementID),\n\t\t\tdescribedBy = $input.attr('aria-describedby');\n\n\t\t// The 'message' param will be an empty string if the field is valid.\n\t\tif (!message) {\n\t\t\t// Style issues as fixed if they already exist\n\t\t\tmessageElement.addClass('fixed');\n\t\t\treturn;\n\t\t}\n\n\t\tmessageElement.removeClass('fixed');\n\n\t\tthis.show();\n\n\t\tif (messageElement.length === 1) {\n\t\t\t// Update the existing error message.\n\t\t\tmessageElement.show().find('a').html(message);\n\t\t} else {\n\t\t\t// Generate better link to field\n\t\t\t$input.closest('.field[id]').each(function(){\n\t\t\t\tanchor = '#' + $(this).attr('id');\n\t\t\t});\n\n\t\t\t// Add a new error message\n\t\t\tmessageElement = $('<li><a></a></li>');\n\t\t\tmessageElement\n\t\t\t\t.attr('id', elementID)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('href', location.pathname + location.search + anchor)\n\t\t\t\t\t.html(message);\n\n\t\t\tthis.$el.find('ul').append(messageElement);\n\n\t\t\t// link back to original input via aria\n\t\t\t// Respect existing non-error aria-describedby\n\t\t\tif (!describedBy) {\n\t\t\t\tdescribedBy = elementID;\n\t\t\t} else if (!describedBy.match(new RegExp('\\\\b' + elementID + '\\\\b'))) {\n\t\t\t\t// Add to end of list if not already present\n\t\t\t\tdescribedBy += \" \" + elementID;\n\t\t\t}\n\n\t\t\t$input.attr('aria-describedby', describedBy);\n\t\t}\n\t};\n\n\t/**\n\t * @func FormStep\n\t * @constructor\n\t * @param {object} element\n\t * @return {object} - The FormStep instance.\n\t * @desc Creates a form step.\n\t */\n\tfunction FormStep(element) {\n\t\tvar self = this;\n\n\t\tthis.$el = element instanceof jQuery ? element : $(element);\n\n\t\t// Find button for this step\n\t\tthis.$elButton = $(\".step-button-wrapper[data-for='\" + this.$el.prop('id') + \"']\");\n\n\t\t// Has the step been viewed by the user?\n\t\tthis.viewed = false;\n\n\t\t// Is the form step valid?\n\t\t// This value is used on form submission, which fails, if any of the steps are invalid.\n\t\tthis.valid = false;\n\n\t\t// The internal id of the step. Used for getting the step from the UserForm.steps array.\n\t\tthis.id = null;\n\n\t\tthis.hide();\n\n\t\tif (CONSTANTS.DISPLAY_ERROR_MESSAGES_AT_TOP) {\n\t\t\tthis.errorContainer = new ErrorContainer(this.$el.find('.error-container'));\n\n\t\t\t// Listen for errors on the UserForm.\n\t\t\tuserform.$el.on('userform.form.error', function (e, validator) {\n\t\t\t\t// The step only cares about errors if it's currently visible.\n\t\t\t\tif (!self.$el.is(':visible')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Add or update each error in the list.\n\t\t\t\t$.each(validator.errorList, function (i, error) {\n\t\t\t\t\tself.errorContainer.updateErrorMessage($(error.element), error.message);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Listen for fields becoming valid\n\t\t\tuserform.$el.on('userform.form.valid', function (e, fieldId) {\n\t\t\t\tself.errorContainer.removeErrorMessage(fieldId);\n\t\t\t});\n\t\t}\n\n\t\t// Ensure that page visibilty updates the step navigation\n\t\tthis\n\t\t\t.$elButton\n\t\t\t.on('userform.field.hide userform.field.show', function(){\n\t\t\t\tuserform.$el.trigger('userform.form.conditionalstep');\n\t\t\t});\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Determine if this step is conditionally disabled\n\t *\n\t * @returns {Boolean}\n\t */\n\tFormStep.prototype.conditionallyHidden = function(){\n\t\t// Because the element itself could be visible but 0 height, so check visibility of button\n\t\treturn ! this\n\t\t\t.$elButton\n\t\t\t.find('button')\n\t\t\t.is(':visible');\n\t};\n\n\t/**\n\t * @func ProgressBar\n\t * @constructor\n\t * @param {object} element\n\t * @return {object} - The Progress bar instance.\n\t * @desc Creates a progress bar.\n\t */\n\tfunction ProgressBar(element) {\n\t\tvar self = this;\n\n\t\tthis.$el = element instanceof jQuery ? element : $(element);\n\t\tthis.$buttons = this.$el.find('.step-button-jump');\n\t\tthis.$jsAlign = this.$el.find('.js-align');\n\n\t\t// Update the progress bar when 'step' buttons are clicked.\n\t\tthis.$buttons.each(function (i, stepButton) {\n\t\t\t$(stepButton).on('click', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tself.$el.trigger('userform.progress.changestep', [parseInt($(this).data('step'), 10)]);\n\t\t\t});\n\t\t});\n\n\t\t// Update the progress bar when 'prev' and 'next' buttons are clicked.\n\t\tuserform.$el.on('userform.form.changestep', function (e, stepID) {\n\t\t\tself.update(stepID);\n\t\t});\n\n\t\t// Listen for steps being conditionally shown / hidden by display rules.\n\t\t// We need to update step related UI like the number of step buttons\n\t\t// and any text that shows the total number of steps.\n\t\tuserform.$el.on('userform.form.conditionalstep', function () {\n\t\t\t// Update the step numbers on the buttons.\n\t\t\tvar $visibleButtons = self.$buttons.filter(':visible');\n\n\t\t\t$visibleButtons.each(function (i, button) {\n\t\t\t\t$(button).text(i + 1);\n\t\t\t});\n\n\t\t\t// Update the actual progress bar.\n\t\t\tself.$el.find('.progress-bar').attr('aria-valuemax', $visibleButtons.length);\n\n\t\t\t// Update any text that uses the total number of steps.\n\t\t\tself.$el.find('.total-step-number').text($visibleButtons.length);\n\t\t});\n\n\t\t// Spaces out the steps below progress bar evenly\n\t\tthis.$jsAlign.each(function (index, button) {\n\t\t\tvar $button = $(button),\n\t\t\t\tleftPercent = (100 / (self.$jsAlign.length - 1) * index + '%'),\n\t\t\t\tbuttonOffset = -1 * ($button.innerWidth() / 2);\n\n\t\t\t$button.css({left: leftPercent, marginLeft: buttonOffset});\n\n\t\t\t// First and last buttons are kept within userform-progress container\n\t\t\tif (index === self.$jsAlign.length - 1) {\n\t\t\t\t$button.css({marginLeft: buttonOffset * 2});\n\t\t\t} else if (index === 0) {\n\t\t\t\t$button.css({marginLeft: 0});\n\t\t\t}\n\t\t});\n\n\t\tthis.update(0);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @func ProgressBar.update\n\t * @param {number} stepID - Zero based index of the new step.\n\t * @desc Update the progress element to show a new step.\n\t */\n\tProgressBar.prototype.update = function (stepID) {\n\t\tvar $newStepElement = $($('.form-step')[stepID]),\n\t\t\tstepNumber = 0,\n\t\t\tbarWidth = stepID / (this.$buttons.length - 1) * 100;\n\n\t\t// Set the current step number.\n\t\tthis.$buttons.each(function (i, button) {\n\t\t\tif (i > stepID) {\n\t\t\t\treturn false; // break the loop\n\t\t\t}\n\n\t\t\tif ($(button).is(':visible')) {\n\t\t\t\tstepNumber += 1;\n\t\t\t}\n\t\t});\n\n\t\t// Update elements that contain the current step number.\n\t\tthis.$el.find('.current-step-number').each(function (i, element) {\n\t\t\t$(element).text(stepNumber);\n\t\t});\n\n\t\t// Update aria attributes.\n\t\tthis.$el.find('[aria-valuenow]').each(function (i, element) {\n\t\t\t$(element).attr('aria-valuenow', stepNumber);\n\t\t});\n\n\t\t// Update the CSS classes on step buttons.\n\t\tthis.$buttons.each(function (i, element) {\n\t\t\tvar $element = $(element),\n\t\t\t\t$item = $element.parent();\n\n\t\t\tif (parseInt($element.data('step'), 10) === stepNumber && $element.is(':visible')) {\n\t\t\t\t$item.addClass('current viewed');\n\t\t\t\t$element.removeAttr('disabled');\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$item.removeClass('current');\n\t\t});\n\n\t\t// Update the progress bar's title with the new step's title.\n\t\tthis.$el.siblings('.progress-title').text($newStepElement.data('title'));\n\n\t\t// Update the width of the progress bar.\n\t\tbarWidth = barWidth ? barWidth + '%' : '';\n\t\tthis.$el.find('.progress-bar').width(barWidth);\n\t};\n\n\t/**\n\t * @func FormActions\n\t * @constructor\n\t * @param {object} element\n\t * @desc Creates the navigation and actions (Prev, Next, Submit buttons).\n\t */\n\tfunction FormActions (element) {\n\t\tvar self = this;\n\n\t\tthis.$el = element instanceof jQuery ? element : $(element);\n\n\t\tthis.$prevButton = this.$el.find('.step-button-prev');\n\t\tthis.$nextButton = this.$el.find('.step-button-next');\n\n\t\t// Show the buttons.\n\t\tthis.$prevButton.parent().attr('aria-hidden', false).show();\n\t\tthis.$nextButton.parent().attr('aria-hidden', false).show();\n\n\t\t// Bind the step navigation event listeners.\n\t\tthis.$prevButton.on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tself.$el.trigger('userform.action.prev');\n\t\t});\n\t\tthis.$nextButton.on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tself.$el.trigger('userform.action.next');\n\t\t});\n\n\t\t// Listen for changes to the current form step, or conditional pages,\n\t\t// so we can show hide buttons appropriatly.\n\t\tuserform.$el.on('userform.form.changestep userform.form.conditionalstep', function () {\n\t\t\tself.update();\n\t\t});\n\n\t\tthis.update();\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @func FormAcrions.update\n\t * @param {number} stepID - Zero based ID of the current step.\n\t * @desc Updates the form actions element to reflect the current state of the page.\n\t */\n\tFormActions.prototype.update = function () {\n\t\tvar numberOfSteps = userform.steps.length,\n\t\t\tstepID = userform.currentStep ? userform.currentStep.id : 0,\n\t\t\ti, lastStep;\n\n\t\t// Update the \"Prev\" button.\n\t\tthis.$el.find('.step-button-prev')[stepID === 0 ? 'hide' : 'show']();\n\n\t\t// Find last step, skipping hidden ones\n\t\tfor(i = numberOfSteps - 1; i >= 0; i--) {\n\t\t\tlastStep = userform.steps[i];\n\n\t\t\t// Skip if step is hidden\n\t\t\tif(lastStep.conditionallyHidden()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Update the \"Next\" button.\n\t\t\tthis.$el.find('.step-button-next')[stepID >= i ? 'hide' : 'show']();\n\n\t\t\t// Update the \"Actions\".\n\t\t\tthis.$el.find('.Actions')[stepID >= i ? 'show' : 'hide']();\n\n\t\t\t// Stop processing last step\n\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * @func main\n\t * @desc Bootstraps the front-end.\n\t */\n\tfunction main() {\n\t\tvar progressBar = null,\n\t\t\tformActions = null,\n\t\t\t$userform = $('.userform');\n\n\t\t// If there's no userform, do nothing.\n\t\tif ($userform.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tCONSTANTS.ENABLE_LIVE_VALIDATION = $userform.data('livevalidation') !== void 0;\n\t\tCONSTANTS.DISPLAY_ERROR_MESSAGES_AT_TOP = $userform.data('toperrors') !== void 0;\n\n\t\t// Extend the default validation options with conditional options\n\t\t// that are set by the user in the CMS.\n\t\tif (CONSTANTS.ENABLE_LIVE_VALIDATION === false) {\n\t\t\t$.extend(UserForm.prototype.validationOptions, {\n\t\t\t\tonfocusout: false\n\t\t\t});\n\t\t}\n\n\t\tif (CONSTANTS.DISPLAY_ERROR_MESSAGES_AT_TOP) {\n\t\t\t$.extend(UserForm.prototype.validationOptions, {\n\t\t\t\t// Callback for custom code when an invalid form / step is submitted.\n\t\t\t\tinvalidHandler: function (event, validator) {\n\t\t\t\t\t$userform.trigger('userform.form.error', [validator]);\n\t\t\t\t},\n\t\t\t\tonfocusout: false\n\t\t\t});\n\t\t}\n\n\t\t// Display all the things that are hidden when JavaScript is disabled.\n\t\t$('.userform-progress, .step-navigation').attr('aria-hidden', false).show();\n\n\t\t// Extend classes with common functionality.\n\t\t$.extend(FormStep.prototype, commonMixin);\n\t\t$.extend(ErrorContainer.prototype, commonMixin);\n\n\t\tuserform = new UserForm($userform);\n\n\t\t// Conditionally hide field labels and use HTML5 placeholder instead.\n\t\tif (CONSTANTS.HIDE_FIELD_LABELS) {\n\t\t\t$userform.find('label.left').each(function () {\n\t\t\t\tvar $label = $(this);\n\n\t\t\t\t$('[name=\"' + $label.attr('for') + '\"]').attr('placeholder', $label.text());\n\t\t\t\t$label.remove();\n\t\t\t});\n\t\t}\n\n\t\t// Initialise the form steps.\n\t\tuserform.$el.find('.form-step').each(function (i, element) {\n\t\t\tvar step = new FormStep(element);\n\n\t\t\tuserform.addStep(step);\n\t\t});\n\n\t\tuserform.setCurrentStep(userform.steps[0]);\n\n\t\t// Initialise actions and progressbar\n\t\tprogressBar = new ProgressBar($('#userform-progress'));\n\t\tformActions = new FormActions($('#step-navigation'));\n\n\t\t// Enable jQuery UI datepickers\n\t\t$(document).on('click', 'input.text[data-showcalendar]', function() {\n\t\t\tvar $element = $(this);\n\n\t\t\t$element.ssDatepicker();\n\n\t\t\tif($element.data('datepicker')) {\n\t\t\t\t$element.datepicker('show');\n\t\t\t}\n\t\t});\n\n\t\t// Make sure the form doesn't expire on the user. Pings every 3 mins.\n\t\tsetInterval(function () {\n\t\t\t$.ajax({ url: 'UserDefinedForm_Controller/ping' });\n\t\t}, 180 * 1000);\n\n\t\t// Bind a confirmation message when navigating away from a partially completed form.\n\t\tvar form = $('form.userform');\n\t\tif(typeof form.areYouSure != 'undefined') {\n\t\t\tform.areYouSure({\n\t\t\t\tmessage: ss.i18n._t('UserForms.LEAVE_CONFIRMATION', 'You have unsaved changes!')\n\t\t\t});\n\t\t}\n\t}\n\n\tmain();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/UserForms.js","require('./UserForms.js');\nrequire('./FieldEditor.js');\nrequire('./Recipient.js');\n// @todo lang translations\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/bundle.js"],"sourceRoot":""}